<main role="main" class="col-sm-9 mx-auto px-4">
    <div
        class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
        <h1 class="h2">Parser</h1>
    </div>
    <div class="text-center">
        <form [formGroup]="parserForm">
            <mat-form-field style="width: 30%">
                <mat-label>Format</mat-label>
                <mat-select (selectionChange)="formatSelected($event)">
                    <mat-option *ngFor="let format of formats" [value]="format">
                        {{format}}
                    </mat-option>
                </mat-select>
            </mat-form-field>
            <br />

            <div class="form-group" *ngIf="selectedFormat === true">
                <div *ngFor="let field of fields">
                    <mat-form-field *ngIf="field!='Type'" style="width: 30%">
                        <mat-label>{{field}}</mat-label>
                        <input matInput placeholder="" formControlName={{field}}>
                    </mat-form-field>
                </div>
            </div>

            <div class="form-group">
                <button mat-raised-button color="primary" [disabled]="success" (click)="submit()">Convert</button>
            </div>
        </form>

        <div class="mb-3 mt-3">
            <alert *ngIf="error" type="danger" dismissible="true" (onClosed)="onClosed()"><strong>Ups!
              </strong>{{ errorMessage }}</alert>

              <alert *ngIf="success" type="success" dismissible="true" (onClosed)="onClosed()"><strong>
            </strong>{{ successMessage }}</alert>
          </div>
    </div>
</main>
